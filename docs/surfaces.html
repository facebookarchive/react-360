<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Surfaces · React 360</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta property="og:title" content="Surfaces · React 360"/><meta property="og:type" content="website"/><meta property="og:url" content="https://facebook.github.io/react-360/index.html"/><meta property="og:description" content="Surfaces allow you to add 2D interfaces in 3D space, letting you work in pixels instead of physical dimensions. They are optimized for legibility, and rely on the same principles that Oculus uses for its user interfaces. Surfaces are defined in terms of the height and width of their pixel content, as well as the density of those pixels in physical space. React 360 takes all of this information and produces a 3D object with the appropriate dimensions. Currently there are two different shapes of Surfaces: Cylinder and Flat."/><meta property="og:image" content="https://facebook.github.io/react-360/img/docusaurus.png"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://facebook.github.io/react-360/img/docusaurus.png"/><link rel="shortcut icon" href="/react-360/img/favicon.png"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><link rel="alternate" type="application/atom+xml" href="https://facebook.github.io/blog/atom.xml" title="React 360 Blog ATOM Feed"/><link rel="alternate" type="application/rss+xml" href="https://facebook.github.io/blog/feed.xml" title="React 360 Blog RSS Feed"/><link rel="stylesheet" href="/react-360/css/main.css"/></head><body class="sideNavVisible doc separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/react-360/"><img class="logo" src="/react-360/img/logo.svg" alt="React 360"/><h2 class="headerTitle">React 360</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="siteNavGroupActive"><a href="/react-360/docs/setup.html" target="_self">Docs</a></li><li class=""><a href="/react-360/docs/example-slideshow.html" target="_self">Examples</a></li><li class=""><a href="/react-360/blog" target="_self">Blog</a></li><li class=""><a href="https://github.com/facebook/react-360" target="_self">GitHub</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><i></i></div><h2><i>›</i><span>Concepts</span></h2></div><div class="navGroups"><div class="navGroup navGroupActive"><h3>Getting Started</h3><ul><li class="navListItem"><a class="navItem" href="/react-360/docs/setup.html">Create Your First Project</a></li><li class="navListItem"><a class="navItem" href="/react-360/docs/explore-code.html">Exploring the Code</a></li></ul></div><div class="navGroup navGroupActive"><h3>Concepts</h3><ul><li class="navListItem"><a class="navItem" href="/react-360/docs/what-is.html">What is React 360?</a></li><li class="navListItem"><a class="navItem" href="/react-360/docs/runtime.html">Runtime</a></li><li class="navListItem"><a class="navItem" href="/react-360/docs/photos-and-videos.html">360 Photos and Videos</a></li><li class="navListItem navListItemActive"><a class="navItem navItemActive" href="/react-360/docs/surfaces.html">Surfaces</a></li><li class="navListItem"><a class="navItem" href="/react-360/docs/objects.html">3D Objects</a></li><li class="navListItem"><a class="navItem" href="/react-360/docs/layout.html">Layout</a></li><li class="navListItem"><a class="navItem" href="/react-360/docs/audio.html">Playing Audio</a></li><li class="navListItem"><a class="navItem" href="/react-360/docs/input.html">Input Handling</a></li><li class="navListItem"><a class="navItem" href="/react-360/docs/native-modules.html">Native Modules</a></li><li class="navListItem"><a class="navItem" href="/react-360/docs/from-react-vr.html">Legacy React VR Apps</a></li></ul></div><div class="navGroup navGroupActive"><h3>Publishing</h3><ul><li class="navListItem"><a class="navItem" href="/react-360/docs/publish.html">Build for Production</a></li><li class="navListItem"><a class="navItem" href="/react-360/docs/static-assets.html">Static Assets</a></li><li class="navListItem"><a class="navItem" href="/react-360/docs/integrate.html">Integrate with Another Site</a></li></ul></div><div class="navGroup navGroupActive"><h3>Components</h3><ul><li class="navListItem"><a class="navItem" href="/react-360/docs/view.html">View</a></li><li class="navListItem"><a class="navItem" href="/react-360/docs/text.html">Text</a></li><li class="navListItem"><a class="navItem" href="/react-360/docs/image.html">Image</a></li><li class="navListItem"><a class="navItem" href="/react-360/docs/entity.html">Entity</a></li><li class="navListItem"><a class="navItem" href="/react-360/docs/vr-button.html">VrButton</a></li></ul></div><div class="navGroup navGroupActive"><h3>APIs</h3><ul><li class="navListItem"><a class="navItem" href="/react-360/docs/animated.html">Animated</a></li><li class="navListItem"><a class="navItem" href="/react-360/docs/async-storage.html">AsyncStorage</a></li><li class="navListItem"><a class="navItem" href="/react-360/docs/controller-info.html">ControllerInfo</a></li><li class="navListItem"><a class="navItem" href="/react-360/docs/environment.html">Environment</a></li></ul></div></div></section></div><script>
          var toggler = document.getElementById('navToggler');
          var nav = document.getElementById('docsNav');
          toggler.onclick = function() {
            nav.classList.toggle('docsSliderActive');
          };
        </script></nav></div><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://github.com/facebook/react-360/tree/master/docs/surfaces.md" target="_blank" rel="noreferrer noopener">Edit</a><h1>Surfaces</h1></header><article><div><span><p>Surfaces allow you to add 2D interfaces in 3D space, letting you work in pixels instead of physical dimensions. They are optimized for legibility, and rely on the same principles that Oculus uses for its user interfaces. Surfaces are defined in terms of the height and width of their pixel content, as well as the density of those pixels in physical space. React 360 takes all of this information and produces a 3D object with the appropriate dimensions. Currently there are two different shapes of Surfaces: Cylinder and Flat.</p>
<h2><a class="anchor" aria-hidden="true" id="cylinder-surface"></a><a href="#cylinder-surface" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Cylinder Surface</h2>
<p>A Cylinder Surface takes your 2D content and projects it onto the inside of a cylinder with a 4 meter radius. A cylinder is great for displaying 2D content, because no matter which way you turn, you are always looking at the content straight-on.</p>
<pre><code class="hljs"><span class="hljs-comment">// To construct a new Cylinder Surface in your app runtime:</span>
<span class="hljs-keyword">import</span> {Surface} <span class="hljs-keyword">from</span> <span class="hljs-string">'react-360-web'</span>;
<span class="hljs-keyword">const</span> myCylinderSurface = <span class="hljs-keyword">new</span> Surface(
  <span class="hljs-number">1000</span>, <span class="hljs-comment">/* width */</span>
  <span class="hljs-number">600</span>, <span class="hljs-comment">/* height */</span>
  Surface.SurfaceShape.Cylinder <span class="hljs-comment">/* shape */</span>
);
</code></pre>
<p>Depending on the size of your content, it likely won't wrap around the full interior of the cylinder – instead it'll cover only part, centered in front of the user. As you increase the width of the Surface, the content will cover more and more of the cylinder. The angle covered is a function of the Surface's width and density. To be specific, density is measured in pixels per 360 degrees: a Cylinder Surface with width equal to half of the density will cover half of the cylinder. The default density is 4680, a value that looks good on a variety of display. This means that a Surface with a width of 1170 pixels (4680 divided by 4) will cover exactly a 90-degree arc in front of the user. <strong>One thing to note:</strong> due to limitations of WebGL, the data for a Surface's content can only be at most 4096 pixels! If you really need to cover the entirety of a cylinder with your surface, reduce its density to 4096.</p>
<p>We recommend that you use a maximum Cylinder height of 720 – anything beyond that will be difficult for your user to see.</p>
<h2><a class="anchor" aria-hidden="true" id="flat-surface"></a><a href="#flat-surface" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Flat Surface</h2>
<p>A Flat Surface places your 2D interface on a flat plane in space, like a virtual screen. Though a Cylinder Surface is always positioned in front of the user, a Flat Surface can be moved around in space – this is useful for scenarios where you want to have multiple panels arranged around the user, like a multi-monitor setup in virtual space.</p>
<pre><code class="hljs"><span class="hljs-comment">// To construct a new Flat Surface in your app runtime:</span>
<span class="hljs-keyword">import</span> {Surface} <span class="hljs-keyword">from</span> <span class="hljs-string">'react-360-web'</span>;
<span class="hljs-keyword">const</span> myFlatSurface = <span class="hljs-keyword">new</span> Surface(
  <span class="hljs-number">300</span>, <span class="hljs-comment">/* width */</span>
  <span class="hljs-number">600</span>, <span class="hljs-comment">/* height */</span>
  Surface.SurfaceShape.Flat <span class="hljs-comment">/* shape */</span>
);
</code></pre>
<p>Flat Surfaces are positioned on the outside of an imaginary sphere, 4 meters in radius – this puts them at the same distance as the Cylinder Surface. The location of the Surface on that sphere can be controlled through two angles that rotate it left and right, and up and down.</p>
<pre><code class="hljs"><span class="hljs-comment">// To rotate a panel 90 degrees to your left:</span>
leftPanel.setAngle(
  -Math.<span class="hljs-literal">PI</span> / <span class="hljs-number">2</span>, <span class="hljs-comment">/* horiz angle */</span>
  <span class="hljs-number">0</span> <span class="hljs-comment">/* vertical angle */</span>
);

<span class="hljs-comment">// To rotate a panel 30 degrees below the horizon:</span>
lowPanel.setAngle(
  <span class="hljs-number">0</span>, <span class="hljs-comment">/* horiz angle */</span>
  -Math.<span class="hljs-literal">PI</span> / <span class="hljs-number">6</span> <span class="hljs-comment">/* vertical angle */</span>
);

<span class="hljs-comment">// To place a panel 45 degrees to the right, 45 degrees above the horizon:</span>
highPanel.setAngle(
  Math.<span class="hljs-literal">PI</span> / <span class="hljs-number">4</span>, <span class="hljs-comment">/* horiz angle */</span>
  Math.<span class="hljs-literal">PI</span> / <span class="hljs-number">4</span> <span class="hljs-comment">/* vertical angle */</span>
);
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="rendering-to-a-surface"></a><a href="#rendering-to-a-surface" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Rendering to a Surface</h2>
<p>Surfaces are used to render the 2D interfaces of your app into 3D space. To attach a React component to a Surface, it must be registered with the AppRegistry. If you look at the bottom of your <code>index.js</code> file, you'll find a line that looks like the following:</p>
<pre><code class="hljs">AppRegistry.registerComponent(<span class="hljs-string">'MyAppName'</span>, <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> MyAppName);
</code></pre>
<p>This tells the runtime that your component can be identified by this string ID. The corresponding code that attaches your React component to an application surface is found in <code>client.js</code>.</p>
<pre><code class="hljs"><span class="hljs-selector-tag">r360</span><span class="hljs-selector-class">.renderToSurface</span>(
  r360.createRoot(<span class="hljs-string">'MyAppName'</span>),
  r360.getDefaultSurface()
);
</code></pre>
<p>This instructs the runtime to attach the component we referenced above to the application's default surface. This default surface is just a Surface instance that's already created for you – you can mutate it the same way as the Surfaces described above. You can also create your own surface and render a React component to it, as long as that React component has been added to the <code>AppRegistry</code>.</p>
<h2><a class="anchor" aria-hidden="true" id="modifying-a-surface"></a><a href="#modifying-a-surface" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Modifying a Surface</h2>
<p>You can change the properties of a Surface that has already been created, allowing you to dynamically reshape and resize it. To change the shape, call <code>setShape(newShape)</code> on your existing surface – it uses the same <code>SurfaceShape</code> constants used at creation time. To change the height and width of the surface, you can call <code>resize(newWidth, newHeight)</code>. The most common use of this is to modify the default surface at initialization time.</p>
<pre><code class="hljs css js"><span class="hljs-comment">// Modify the default surface to be a 200 x 200 Flat surface</span>
<span class="hljs-keyword">const</span> s = r360.getDefaultSurface();
s.setShape(Surface.SurfaceShape.Flat);
s.resize(<span class="hljs-number">200</span>, <span class="hljs-number">200</span>);
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="using-multiple-surfaces"></a><a href="#using-multiple-surfaces" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Using Multiple Surfaces</h2>
<p>There are times when you'll want to add multiple surfaces to your app, such as having a series of flat panels arranged around the user. If you register multiple React components with the AppRegistry, you can attach each one to a different surface. You can also mount multiple copies of the same component to different surfaces – useful when the rendering logic is identical, but the initial properties passed to each surface are different.</p>
<pre><code class="hljs"><span class="hljs-comment">// Mounting different components to different surfaces</span>
<span class="hljs-selector-tag">r360</span><span class="hljs-selector-class">.renderToSurface</span>(
  r360.createRoot(<span class="hljs-string">'ComponentOne'</span>),
  firstSurface,
);
<span class="hljs-selector-tag">r360</span><span class="hljs-selector-class">.renderToSurface</span>(
  r360.createRoot(<span class="hljs-string">'ComponentTwo'</span>),
  secondSurface,
);

<span class="hljs-comment">// Mounting the same component to different surfaces</span>
<span class="hljs-selector-tag">r360</span><span class="hljs-selector-class">.renderToSurface</span>(
  r360.createRoot(<span class="hljs-string">'SharedComponent'</span>, { <span class="hljs-comment">/* initial props for first panel */</span> }),
  firstSurface,
);
<span class="hljs-selector-tag">r360</span><span class="hljs-selector-class">.renderToSurface</span>(
  r360.createRoot(<span class="hljs-string">'SharedComponent'</span>, { <span class="hljs-comment">/* initial props for second panel */</span> }),
  secondSurface,
);
</code></pre>
<p>In this setup, how do you share data between the different React components? They run in a shared JavaScript environment, so any global store (such as Redux) is shared between all components. You can use this technique to synchronize data between different 2D and 3D aspects of your app. A version of this is demonstrated in the <a href="/react-360/docs/example-multisurface.html">multi-surface example</a>.</p>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="photos-and-videos.html">← 360 Photos and Videos</a><a class="docs-next button" href="objects.html">3D Objects →</a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#cylinder-surface">Cylinder Surface</a></li><li><a href="#flat-surface">Flat Surface</a></li><li><a href="#rendering-to-a-surface">Rendering to a Surface</a></li><li><a href="#modifying-a-surface">Modifying a Surface</a></li><li><a href="#using-multiple-surfaces">Using Multiple Surfaces</a></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/react-360/" class="nav-home"><img src="/react-360/img/logo.svg" alt="React 360" width="66" height="58"/></a><div><h5>Docs</h5><a href="/react-360/docs/en/setup.html">Getting Started</a><a href="/react-360/docs/en/example-slideshow.html">Examples</a></div><div><h5>More</h5><a href="/react-360/blog">Blog</a><a href="https://github.com/facebook/react-360">GitHub</a><a class="github-button" data-icon="octicon-star" data-count-href="/facebook/react-360/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star this project on GitHub">Star</a></div></section><a href="https://code.facebook.com/projects/" target="_blank" rel="noreferrer noopener" class="fbOpenSource"><img src="/react-360/img/oss_logo.png" alt="Facebook Open Source" width="170" height="45"/></a><section class="copyright">Copyright © 2018 Facebook Inc.</section></footer></div></body></html>